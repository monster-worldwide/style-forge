(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{858:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Be}});var r=t(406),i=t(8526),a=t.n(i),o=t(2784),s=t(5235),l=t(2322);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p={figmaApiToken:"",parserOptions:{parserAction:"data",parserType:"theme"},runParser:!1,isParserRunning:!1,recentFiles:[]},u=(0,o.createContext)([p,{storeToken:function(){},selectFile:function(){},clear:function(){},selectBranch:function(){},selectDiffBranch:function(){},setParserOptions:function(){},setParserRunning:function(){},setParserFinished:function(){}}]),f=function(e){var n=(0,o.useState)(p),t=n[0],r=n[1];(0,o.useEffect)((function(){var e=localStorage.getItem("userData");r(JSON.parse(e||"{}")||p)}),[]);return(0,l.jsx)(u.Provider,{value:[t,{storeToken:function(e){var n=d(d({},t),{},{figmaApiToken:e});localStorage.setItem("userData",JSON.stringify(n)),r(n)},selectFile:function(e){var n=(null===t||void 0===t?void 0:t.recentFiles)||[];n.find((function(n){return n.fileKey===e.fileKey}))||n.unshift(e);var i=d(d({},t),{},{fileSelected:d(d({},e),{},{selectedBranch:{key:e.fileKey,name:"Main"}}),parserOptions:{parserAction:"data",parserType:"theme"},runParser:!1,isParserRunning:!1,recentFiles:n.slice(0,4)});localStorage.setItem("userData",JSON.stringify(i)),r(i)},clear:function(){localStorage.setItem("userData",JSON.stringify(p)),r(p)},selectBranch:function(e){var n=d(d({},t),{},{fileSelected:d(d({},t.fileSelected),{},{selectedBranch:e})});localStorage.setItem("userData",JSON.stringify(n)),r(n)},selectDiffBranch:function(e){var n=d(d({},t),{},{fileSelected:d(d({},t.fileSelected),{},{diffBranch:e})});localStorage.setItem("userData",JSON.stringify(n)),r(n)},setParserOptions:function(e){var n=d(d({},t),{},{parserOptions:e,runParser:!0});localStorage.setItem("userData",JSON.stringify(n)),r(n)},setParserFinished:function(){var e=d(d({},t),{},{runParser:!1,isParserRunning:!1});localStorage.setItem("userData",JSON.stringify(e)),r(e)},setParserRunning:function(e){var n=d(d({},t),{},{isParserRunning:e});localStorage.setItem("userData",JSON.stringify(n)),r(n)}}],children:e.children})},h=t(5505),m=h.ZP.button.withConfig({displayName:"Button",componentId:"sc-1dcaauf-0"})(["border:none;font-size:1.125rem;display:inline-flex;align-items:center;text-decoration:none;font-style:normal;font-weight:600;font-size:1rem;line-height:1.5;border-radius:4px;cursor:pointer;justify-self:flex-start;&:hover:not(:disabled){opacity:0.8;}svg{height:1em;width:1em;transform:scale(1.7);margin-right:0.8em;margin-left:0.3em;}"," &:disabled{cursor:",";","}"],(function(e){switch(e.variant){case"primary":return"\n        padding: 8px 12px;\n        background: #6E46AE;\n        color: white;";case"secondary":return"\n        padding: 3px 8px;\n        border: 1px solid #6e46ae45;\n        color: #6E46AE;\n        font-size: 0.875rem;\n        min-height: 2.1em;\n        background: white;";case"tertiary":return"\n        padding-left: 0;\n        padding-right: 0;\n        background: transparent;\n        color: #6E46AE;\n        text-decoration: none;\n        font-weight: 700;\n        border-radius: 1px;\n        letter-spacing: -0.025em;\n        font-size: 0.875rem;"}}),(function(e){return e.isLoading?"wait":"not-allowed"}),(function(e){switch(e.variant){case"primary":case"secondary":return"\n          background: #666;\n          color: white;";case"tertiary":return"\n          opacity: 0.4;"}})),g=h.ZP.div.withConfig({displayName:"Button__ButtonGroup",componentId:"sc-1dcaauf-1"})(["display:flex;align-items:center;gap:0.5rem;"]),x=h.ZP.div.withConfig({displayName:"Button__ButtonStack",componentId:"sc-1dcaauf-2"})(["display:flex;flex-direction:column;gap:0.5rem;margin-top:0.5rem;"]),v=t(2269),C=["id","label","value","onChange","controlType","helpText","disabled","autoComplete"];function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b=h.ZP.label.withConfig({displayName:"FormControl__Label",componentId:"sc-36fow5-0"})(["display:block;width:100%;font-weight:700;margin-bottom:0.5rem;"]),w=(0,h.ZP)(b).withConfig({displayName:"FormControl__CheckboxLabel",componentId:"sc-36fow5-1"})(["margin-bottom:0;font-weight:600;font-size:0.875rem;display:flex;gap:0.25em;align-items:center;"]),k=h.ZP.input.withConfig({displayName:"FormControl__StyledInput",componentId:"sc-36fow5-2"})(["display:block;width:100%;padding:0.5rem;font-size:1.125rem;"]),L=h.ZP.input.withConfig({displayName:"FormControl__StyledCheckbox",componentId:"sc-36fow5-3"})([""]),P=h.ZP.textarea.withConfig({displayName:"FormControl__StyledTextArea",componentId:"sc-36fow5-4"})(["padding:0.5rem;display:block;width:100%;resize:vertical;font-size:1.125rem;word-break:break-all;"]),S=h.ZP.p.withConfig({displayName:"FormControl__HelpText",componentId:"sc-36fow5-5"})(["font-size:14px;font-style:italic;margin-top:0.5rem;color:#555555;"]),_=function(e){var n=e.id,t=e.label,r=e.value,i=e.onChange,a=e.controlType,o=void 0===a?"text":a,s=e.helpText,c=e.disabled,d=e.autoComplete,p=(0,v.Z)(e,C);return"textarea"===o?(0,l.jsxs)("div",{children:[(0,l.jsx)(b,{htmlFor:n,children:t}),(0,l.jsx)(P,j({disabled:c,id:n,value:r,onChange:i,rows:4,onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var n=new Event("textAreaEnterPressed",{bubbles:!0});e.currentTarget.dispatchEvent(n)}}},p)),s&&(0,l.jsx)(S,{children:s})]}):"text"===o?(0,l.jsxs)("div",{children:[(0,l.jsx)(b,{htmlFor:n,children:t}),(0,l.jsx)(k,j({type:"text",id:n,value:r,onChange:i,disabled:c,autoComplete:d},p)),s&&(0,l.jsx)(S,{children:s})]}):"readOnly"===o?(0,l.jsxs)("div",{children:[(0,l.jsx)(b,{htmlFor:n,children:t}),(0,l.jsx)("p",{children:r})]}):"checkbox"===o?(0,l.jsxs)("div",{children:[(0,l.jsxs)(w,{htmlFor:n,children:[(0,l.jsx)(L,j({type:"checkbox",id:n,checked:r,onChange:i,disabled:c},p)),t]}),s&&(0,l.jsx)(S,{children:s})]}):null},Z=h.ZP.form.withConfig({displayName:"Form__FormWrapper",componentId:"sc-80noa-0"})(["display:grid;gap:1.25rem;align-items:flex-start;"]),F=function(e){var n=e.children,t=e.onSubmit;return(0,o.useEffect)((function(){return document.addEventListener("textAreaEnterPressed",t),function(){document.removeEventListener("textAreaEnterPressed",t)}}),[t]),(0,l.jsx)(Z,{onSubmit:function(e){console.log("submitting"),e.preventDefault(),t()},children:n})},B=h.ZP.div.withConfig({displayName:"datacollectionstyle__PageWrapper",componentId:"sc-1xdhnih-0"})(["display:grid;place-content:flex-start center;grid-template-columns:minmax(10vw,480px);padding:15vh 1rem 1rem 1rem;gap:1rem;grid-column:1 / -1;animation:var(--animation-drift-in--long);overflow:auto;h2{font-size:2rem;}"]),H=h.ZP.div.withConfig({displayName:"Error__StyledError",componentId:"sc-9kyg8g-0"})(["color:#d80000;font-weight:700;font-size:0.825rem;"]),A=function(e){var n=e.message;return(0,l.jsx)(H,{children:n})},O=function(){var e=(0,o.useContext)(u),n=(e[0],e[1]),t=(0,o.useState)(""),r=t[0],i=t[1],a=(0,o.useState)(""),s=a[0],c=a[1];return(0,l.jsxs)(B,{children:[(0,l.jsx)("h2",{children:"Get started"}),(0,l.jsx)("p",{children:"To enter the Style Forge, we need your Figma Personal Access Token for authentication."}),(0,l.jsx)(m,{target:"_blank",rel:"noopener noreferrer",as:"a",href:"https://help.figma.com/hc/en-us/articles/8085703771159-Manage-personal-access-tokens",variant:"tertiary",children:"How do I generate a personal access token?"}),(0,l.jsxs)(F,{onSubmit:function(){n.storeToken(r),!r&&c("Please enter a token.")},children:[(0,l.jsx)(_,{id:"token",label:"Personal Access Token",helpText:"We send your token to Figma and store it locally in your browser.",value:r,onChange:function(e){return i(e.target.value)},autoComplete:"off"}),s&&(0,l.jsx)(A,{message:s}),(0,l.jsx)(m,{type:"submit",variant:"primary",children:"Submit Token"})]})]})},V=t(3944),T=function(e){for(var n=e.split("/"),t=!1,r=0;r<n.length;r++){if(t)return n[r];"file"===n[r]&&(t=!0)}return null},M=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r,i,o,s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=T(t)){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,o=new V.Api({personalAccessToken:n}),e.next=7,o.getFile(r,{branch_data:!0});case 7:return s=e.sent,l={fileKey:r,name:s.name,branches:(null===(i=s.branches)||void 0===i?void 0:i.map((function(e){return{key:e.key,name:e.name}})))||[],selectedBranch:{key:r,name:"main"}},e.abrupt("return",l);case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(n,t){return e.apply(this,arguments)}}(),E=function(e){var n=e.name,t=e.styles;return(0,l.jsx)("svg",{width:30,height:30,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:t,children:function(){switch(n){case"branch":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M16.3536 13.3536C16.5488 13.1583 16.5488 12.8417 16.3536 12.6464L13.1716 9.46447C12.9763 9.2692 12.6597 9.2692 12.4645 9.46447C12.2692 9.65973 12.2692 9.97631 12.4645 10.1716L15.2929 13L12.4645 15.8284C12.2692 16.0237 12.2692 16.3403 12.4645 16.5355C12.6597 16.7308 12.9763 16.7308 13.1716 16.5355L16.3536 13.3536ZM3 6.5H6.44V5.5H3V6.5ZM7.94 8V11H8.94V8H7.94ZM10.44 13.5H16V12.5H10.44V13.5ZM7.94 11C7.94 12.3807 9.05929 13.5 10.44 13.5V12.5C9.61157 12.5 8.94 11.8284 8.94 11H7.94ZM6.44 6.5C7.26843 6.5 7.94 7.17157 7.94 8H8.94C8.94 6.61929 7.82071 5.5 6.44 5.5V6.5Z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M11.3334 6H16",stroke:"currentColor"})]});case"back":return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("path",{d:"M2.64645 9.64645C2.45118 9.84171 2.45118 10.1583 2.64645 10.3536L5.82843 13.5355C6.02369 13.7308 6.34027 13.7308 6.53553 13.5355C6.7308 13.3403 6.7308 13.0237 6.53553 12.8284L3.70711 10L6.53553 7.17157C6.7308 6.97631 6.7308 6.65973 6.53553 6.46447C6.34027 6.2692 6.02369 6.2692 5.82843 6.46447L2.64645 9.64645ZM17 9.5L3 9.5L3 10.5L17 10.5L17 9.5Z",fill:"currentColor"})});case"download":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M4 13V15C4 16.1046 4.89543 17 6 17H14C15.1046 17 16 16.1046 16 15V13",stroke:"currentColor"}),(0,l.jsx)("path",{d:"M9.64645 13.3536C9.84171 13.5488 10.1583 13.5488 10.3536 13.3536L13.5355 10.1716C13.7308 9.97631 13.7308 9.65973 13.5355 9.46447C13.3403 9.2692 13.0237 9.2692 12.8284 9.46447L10 12.2929L7.17157 9.46447C6.97631 9.2692 6.65973 9.2692 6.46447 9.46447C6.2692 9.65973 6.2692 9.97631 6.46447 10.1716L9.64645 13.3536ZM9.5 3L9.5 13L10.5 13L10.5 3L9.5 3Z",fill:"currentColor"})]});case"api":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M5 6L1 10L5 14",stroke:"currentColor"}),(0,l.jsx)("path",{d:"M15 14L19 10L15 6",stroke:"currentColor"}),(0,l.jsx)("circle",{cx:"7",cy:"10",r:"1",fill:"currentColor"}),(0,l.jsx)("circle",{cx:"10",cy:"10",r:"1",fill:"currentColor"}),(0,l.jsx)("circle",{cx:"13",cy:"10",r:"1",fill:"currentColor"})]});case"icons":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M16.5 16.5H3.5V2.5H16.5V16.5Z",stroke:"currentColor"}),(0,l.jsx)("path",{d:"M3.5 14L6.5 11.5L9 14L13 8.5L16.5 12.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}),(0,l.jsx)("circle",{cx:"8.5",cy:"6.5",r:"2",stroke:"currentColor"})]});case"theme":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M15.5 16.5H4.5V2.5H11.7929L15.5 6.20711V16.5Z",stroke:"currentColor"}),(0,l.jsx)("path",{d:"M8 10L9.33333 12L12 8",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"})]});case"close":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M5 15L15 5",stroke:"currentColor"}),(0,l.jsx)("path",{d:"M5 5L15 15",stroke:"currentColor"})]});case"gitHub":return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0058 3C6.13177 3 3 6.20832 3 10.1775C3 13.3502 5.00662 16.0358 7.79035 16.9864C8.13839 17.0578 8.26588 16.8319 8.26588 16.642C8.26588 16.4755 8.25441 15.9052 8.25441 15.3109C6.30557 15.7388 5.89973 14.4553 5.89973 14.4553C5.58655 13.6235 5.1225 13.4097 5.1225 13.4097C4.48464 12.97 5.16896 12.97 5.16896 12.97C5.8765 13.0175 6.24777 13.7068 6.24777 13.7068C6.87401 14.7999 7.88314 14.491 8.28911 14.3009C8.34704 13.8374 8.53274 13.5165 8.72992 13.3384C7.17559 13.172 5.54022 12.5541 5.54022 9.79711C5.54022 9.01283 5.81843 8.37116 6.25925 7.87212C6.1897 7.69392 5.94606 6.95702 6.32894 5.97076C6.32894 5.97076 6.92047 5.78059 8.25426 6.70751C8.8253 6.55039 9.41421 6.47047 10.0058 6.4698C10.5973 6.4698 11.2003 6.55307 11.7572 6.70751C13.0911 5.78059 13.6826 5.97076 13.6826 5.97076C14.0655 6.95702 13.8217 7.69392 13.7522 7.87212C14.2046 8.37116 14.4713 9.01283 14.4713 9.79711C14.4713 12.5541 12.8359 13.1601 11.27 13.3384C11.5253 13.5641 11.7455 13.9918 11.7455 14.6693C11.7455 15.6318 11.7341 16.4042 11.7341 16.6418C11.7341 16.8319 11.8617 17.0578 12.2096 16.9865C14.9933 16.0357 17 13.3502 17 10.1775C17.0114 6.20832 13.8682 3 10.0058 3Z",fill:"currentColor"})});case"help":return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("path",{d:"M10.77 13.57C10.77 13.99 10.42 14.34 10 14.34C9.58 14.34 9.23 13.99 9.23 13.57C9.23 13.15 9.58 12.8 10 12.8C10.42 12.8 10.77 13.15 10.77 13.57ZM12.31 7.62C12.52 8.6 12.1 9.65 11.26 10.14C10.91 10.35 10.7 10.7 10.7 11.12V11.4C10.7 11.82 10.42 12.1 10 12.1C9.58 12.1 9.3 11.82 9.3 11.4V11.12C9.3 10.21 9.79 9.44 10.49 8.95C10.84 8.74 10.98 8.32 10.91 7.9C10.84 7.55 10.56 7.27 10.21 7.2C9.93 7.13 9.65 7.2 9.44 7.41C9.16 7.62 9.09 7.83 9.09 8.11C9.09 8.53 8.81 8.81 8.39 8.81C7.97 8.81 7.69 8.53 7.69 8.11C7.69 7.41 8.04 6.71 8.6 6.29C9.16 5.87 9.86 5.66 10.63 5.87C11.4 6.08 12.1 6.71 12.31 7.62ZM10 3C6.15 3 3 6.15 3 10C3 13.85 6.15 17 10 17C13.85 17 17 13.85 17 10C17 6.15 13.85 3 10 3Z",fill:"currentColor"})});default:return null}}()})},I=h.ZP.div.withConfig({displayName:"Loader__LoaderWrapper",componentId:"sc-15jdkit-0"})(["animation-name:loader;animation-duration:0ms;animation-fill-mode:forwards;transform:scale(0);opacity:0;display:flex;flex-direction:column;align-items:center;@keyframes loader{to{transform:scale(1);opacity:1;}}"]),N=h.ZP.g.withConfig({displayName:"Loader__Hammer",componentId:"sc-15jdkit-1"})(["transform:rotate(0deg);transform-origin:100% 0%;animation-name:hammer;animation-duration:","ms;animation-timing-function:cubic-bezier(0.34,1.56,0.64,1);animation-iteration-count:infinite;@keyframes hammer{0%{transform:rotate(90deg);}20%{transform:rotate(8deg);}30%{transform:rotate(4deg);}40%{transform:rotate(4deg);}98%{transform:rotate(90deg);}100%{transform:rotate(90deg);}}"],1e3),D=h.ZP.g.withConfig({displayName:"Loader__Sparks",componentId:"sc-15jdkit-2"})(["#bigSpark,#lilSpark{transform:scale(0);opacity:0;transform-origin:40% 60%;animation-name:spark;animation-duration:","ms;animation-delay:","ms;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(0.34,1.56,0.64,1);}#lilSpark{transform-origin:60% 60%;animation-delay:","ms;}@keyframes spark{0%{transform:scale(0);opacity:0;}20%{opacity:1;transform:scale(1);}100%{opacity:0;transform:scale(0);}}"],1e3,200,300),z=h.ZP.div.withConfig({displayName:"Loader__LoadingText",componentId:"sc-15jdkit-3"})(["text-align:center;padding:1rem;p{animation:var(--animation-drift-in--short);::after{content:'...';animation:dots 1250ms infinite;width:1em;display:inline-block;text-align:left;margin-left:0.1em;letter-spacing:0.1em;opacity:0.5;}}@keyframes dots{0%{content:'';}15%{content:'.';}30%{content:'..';}45%{content:'...';}100%{content:'...';}}"]),R=function(e){var n=e.firstMessage,t=void 0===n?"Loading":n,r=e.secondMessage,i=void 0===r?"Getting there":r,a=e.thirdMessage,s=void 0===a?"Almost done":a,c=e.timing,d=void 0===c?[0,5,10]:c,p=(0,o.useState)(0),u=p[0],f=p[1];(0,o.useEffect)((function(){var e=setInterval((function(){f(u+1)}),1e3);return function(){clearInterval(e)}}),[u]);var h=u>=d[0]&&u<=d[1],m=u>d[1]&&u<=d[2],g=u>d[2];return(0,l.jsxs)(I,{children:[(0,l.jsxs)("svg",{width:"154",height:"116",viewBox:"0 0 154 116",fill:"none",xmlns:"http://www.w3.org/2000/svg",overflow:"visible",children:[(0,l.jsxs)(D,{children:[(0,l.jsx)("path",{id:"bigSpark",d:"M15.9384 45.0019L34.9677 59.8691V42.462L46.3204 65.3238H55.2927L26.6007 7.31175V42.6206L0 21.8453L13.4565 65.3238H22.225L15.9384 45.0019Z",fill:"#00B6B4"}),(0,l.jsx)("path",{id:"lilSpark",d:"M106.563 59.4664L110.987 63.7062L118.612 57.8124L116.781 65.3235H122.506L127.808 43.5693L111.369 56.2755L104.685 49.8729L97.8953 65.3238H103.988L106.563 59.4664Z",fill:"#00B6B4"})]}),(0,l.jsxs)(N,{children:[(0,l.jsx)("path",{d:"M79.0297 31.1237L83.9713 40.8717L151.326 10.0385C152.078 9.69412 152.65 9.06977 152.917 8.30503C153.185 7.53944 153.126 6.6957 152.753 5.957L150.632 1.76433C150.257 1.03015 149.602 0.462408 148.809 0.185065C148.016 -0.0922706 147.15 -0.0567261 146.4 0.283803L79.0297 31.1237Z",fill:"#6E46AE"}),(0,l.jsx)("path",{d:"M69.3878 27.2659C68.0059 28.3897 66.4926 29.3435 64.8827 30.1067C63.3191 30.865 61.6719 31.4385 59.9758 31.8152C60.0872 34.0896 59.7663 36.3645 59.0312 38.5194L66.0671 53.1423C67.1839 53.0408 68.3031 53.3106 69.2502 53.9109C70.198 54.5114 70.9198 55.4079 71.3049 56.4615L81.4224 51.588C80.4988 50.1664 80.1142 48.4606 80.3361 46.7799C80.6835 44.8328 82.0611 43.2039 84.4378 41.8916L78.5297 29.4945C76.3486 30.1856 72.2917 29.4666 69.3878 27.2659Z",fill:"#3D2462"}),(0,l.jsx)("path",{d:"M71.8493 65.0531L87.859 57.3174L84.8259 51.0528L68.8007 58.7725L71.8493 65.0531Z",fill:"#6E46AE"}),(0,l.jsx)("path",{d:"M70.9691 22.2915C69.991 20.0978 68.1667 18.3942 65.9116 17.5671C63.6573 16.7402 61.1632 16.861 58.9992 17.9029C56.8354 18.9441 55.1846 20.817 54.4237 23.095C53.6629 25.3732 53.8561 27.8624 54.9601 29.995C55.9147 31.9768 60.5465 31.055 64.4298 29.1928C68.3123 27.3305 71.9275 24.2649 70.9691 22.2915Z",fill:"#6E46AE"})]}),(0,l.jsx)("path",{id:"anvil",fillRule:"evenodd",clipRule:"evenodd",d:"M35.3428 101.832C38.9452 101.921 42.1508 101.996 42.6677 101.996H43.4072C48.6277 102.745 51.2057 105.763 51.2057 110.293C51.2057 112.293 50.3672 114.124 48.9854 115.549H111.735C106.549 112.483 103.127 107.325 103.127 101.471C103.127 92.0764 111.911 84.437 122.718 84.437C124.477 84.437 125.908 83.1641 125.908 81.5805L125.907 73.1817C125.908 72.2793 125.091 71.5491 124.085 71.5491L124.086 71.5499H25.9701L35.3428 101.832ZM23.8765 71.5499H14.9071C14.9071 72.1444 18.6167 83.9066 21.3561 92.5926C22.7328 96.9577 23.8645 100.546 24.1571 101.549C24.1571 101.549 28.6602 101.666 33.233 101.78L23.8765 71.5499Z",fill:"#6E46AE"})]}),(0,l.jsxs)(z,{children:[h&&(0,l.jsx)("p",{children:t}),m&&(0,l.jsx)("p",{children:i}),g&&(0,l.jsx)("p",{children:s})]})]})},W=h.ZP.div.withConfig({displayName:"sc-02-select-file__LoaderWrapper",componentId:"sc-1sa165r-0"})(["display:grid;place-content:center;height:100%;margin-top:10vh;"]),J=h.ZP.div.withConfig({displayName:"sc-02-select-file__ButtonGroup",componentId:"sc-1sa165r-1"})(["display:flex;gap:1rem;"]),U=function(){var e=(0,o.useContext)(u),n=e[0],t=e[1],i=(0,o.useState)(""),s=i[0],c=i[1],d=(0,o.useState)(""),p=d[0],f=d[1],h=(0,o.useState)(!1),g=h[0],x=h[1],v=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=3;break}return f("Please enter URL."),e.abrupt("return");case 3:x(!0),M(n.figmaApiToken,s).then((function(e){e?t.selectFile(e):(x(!1),f("Whoops! Your URL might have a typo, or your Personal Access Token may be invalid. Please try again."))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.jsx)(B,{children:g?(0,l.jsx)(W,{children:(0,l.jsx)(R,{firstMessage:"Authenticating with Figma",secondMessage:"Fetching your file data",thirdMessage:"Almost done"})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(m,{onClick:function(){return t.clear()},variant:"tertiary",children:[(0,l.jsx)(E,{name:"back"}),"Go Back"]}),(0,l.jsx)("h2",{children:"One more thing!"}),(0,l.jsx)("p",{children:"Please enter the share URL of the Figma file that you want to run through the forge."}),(0,l.jsxs)(F,{onSubmit:v,children:[(0,l.jsx)(m,{as:"a",target:"_blank",rel:"noopener noreferrer",href:"https://help.figma.com/hc/en-us/articles/360040531773-Share-files-and-prototypes",variant:"tertiary",children:"How do I find the share URL for my Figma file?"}),(0,l.jsx)(_,{controlType:"textarea",id:"file",label:"Figma File Share Url",value:s,disabled:g,onChange:function(e){f(""),c(e.target.value)}}),p&&(0,l.jsx)(A,{message:p}),(0,l.jsxs)(J,{children:[(0,l.jsx)(m,{type:"submit",variant:"primary",disabled:g,isLoading:g,children:g?"Loading...":"I'm ready to Forge"}),(0,l.jsx)(m,{type:"button",variant:"tertiary",onClick:function(){x(!0),M(n.figmaApiToken,"https://www.figma.com/file/6bJzXzTDnsF49mwbNNSKpI/Style-Forge-Demo-File?node-id=0%3A1&t=0TideCUaNmRe4uNV-1").then((function(e){return e&&t.selectFile(e)}))},children:"Forge a Sample File"})]})]})]})})},K=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=new V.Api({personalAccessToken:n}),e.next=4,i.getFile(t,{branch_data:!0});case 4:return o=e.sent,s={fileKey:t,name:o.name,branches:(null===(r=o.branches)||void 0===r?void 0:r.map((function(e){return{key:e.key,name:e.name}})))||[],selectedBranch:{key:t,name:"main"}},e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,t){return e.apply(this,arguments)}}(),G=h.ZP.div.withConfig({displayName:"PanelBody__PanelBodyWrapper",componentId:"sc-1ltcd1j-0"})(["overflow:auto;height:100%;border-top:1px solid #6e46ae23;"]),Y=h.ZP.div.withConfig({displayName:"PanelBody__LoaderWrapper",componentId:"sc-1ltcd1j-1"})(["display:grid;place-content:center;height:100%;"]),X=h.ZP.div.withConfig({displayName:"PanelBody__PanelEditView",componentId:"sc-1ltcd1j-2"})(["animation:var(--animation-drift-in--short);opacity:",";user-select:",";cursor:",";"],(function(e){return e.isLoading?.5:1}),(function(e){return e.isLoading&&"none"}),(function(e){return e.isLoading&&"wait"})),q=h.ZP.div.withConfig({displayName:"PanelBody__PickList",componentId:"sc-1ltcd1j-3"})(["display:flex;flex-direction:column;gap:1rem;overflow:auto;"]),Q=(0,h.ZP)(m).withConfig({displayName:"PanelBody__PickItem",componentId:"sc-1ltcd1j-4"})(["text-align:left;"]),$=function(e){var n,t,i,s=e.panelView,c=e.setPanelView,d=(0,o.useContext)(u),p=d[0],f=d[1],h=(0,o.useState)((null===p||void 0===p||null===(n=p.parserOptions)||void 0===n?void 0:n.parserType)||"theme"),v=h[0],C=h[1],y=(0,o.useState)(""),j=y[0],b=y[1],w=(0,o.useState)(""),k=w[0],L=w[1],P=(0,o.useState)(!1),S=P[0],Z=P[1],F=p.fileSelected,B=null===F||void 0===F||null===(t=F.selectedBranch)||void 0===t?void 0:t.name,H=null===F||void 0===F||null===(i=F.diffBranch)||void 0===i?void 0:i.name,O=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),M(p.figmaApiToken,j).then((function(e){Z(!1),e?(f.selectFile(e),c("default")):L("Whoops! Your URL might have a typo. Please try again.")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),K(p.figmaApiToken,n).then((function(e){Z(!1),e?(f.selectFile(e),c("default")):L("There was an error loading your file. Please make sure the file is accessible with your personal access token.")}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=function(e){var n,t,r=function(n){"selectedBranch"===e&&f.selectBranch(n),"diffBranch"===e&&f.selectDiffBranch(n),c("default")};return(0,l.jsxs)(X,{isLoading:S,children:[(0,l.jsx)(ae,{children:(0,l.jsx)(m,{variant:"secondary",onClick:function(){return c("default")},children:"Back"})}),(null===F||void 0===F||null===(n=F[e])||void 0===n?void 0:n.name)&&(0,l.jsxs)(ae,{children:[(0,l.jsxs)("h2",{children:["Current ","diffBranch"===e?"comparison":"baseline"," ","branch"]}),(0,l.jsx)("p",{children:String(null===F||void 0===F||null===(t=F[e])||void 0===t?void 0:t.name)})]}),(0,l.jsxs)(ae,{children:[(0,l.jsx)("h2",{children:"Select a branch"}),(0,l.jsxs)(q,{children:[(0,l.jsx)(Q,{variant:"tertiary",disabled:"main"===B||"main"===H,onClick:function(){return r({key:(null===F||void 0===F?void 0:F.fileKey)||"",name:"main"})},children:"Main"}),null===F||void 0===F?void 0:F.branches.map((function(e){return(0,l.jsx)(Q,{variant:"tertiary",disabled:B===e.name||H===e.name,onClick:function(){return r(e)},children:e.name},"pick-".concat(e.key))}))]})]})]})};return(0,l.jsxs)(G,{children:["default"===s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(ae,{children:[(0,l.jsx)("h2",{children:"Figma file"}),(0,l.jsx)(m,{variant:"secondary",onClick:function(){return c("file")},children:null===F||void 0===F?void 0:F.name})]}),(0,l.jsxs)(ae,{children:[(0,l.jsx)("h2",{children:"Baseline branch"}),(0,l.jsx)(m,{variant:"secondary",onClick:function(){return c("branch")},children:B})]}),(0,l.jsx)(ae,{children:H?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{children:"Comparison branch"}),(0,l.jsxs)(g,{children:[(0,l.jsx)(m,{variant:"secondary",onClick:function(){return c("diffBranch")},children:H||"Select Diff Branch"}),(0,l.jsx)(m,{variant:"secondary",onClick:function(){return f.selectDiffBranch(void 0)},"aria-label":"Clear diff branch",children:(0,l.jsx)(E,{name:"close",styles:{margin:"0"}})})]})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(m,{variant:"tertiary",onClick:function(){return c("diffBranch")},children:H||"Select a branch to compare"})})}),(0,l.jsxs)(ae,{children:[(0,l.jsx)("h2",{children:"Data type"}),(0,l.jsxs)("select",{id:"typeSelect","aria-label":"Select data type",onChange:function(e){return C(e.target.value)},style:{padding:"3px 8px",border:"1px solid #6e46ae45",borderRadius:"4px",fontSize:"0.875rem",fontWeight:600,color:"#6e46ae"},children:[(0,l.jsx)("option",{value:"theme",selected:"theme"===v,children:"Theme"}),(0,l.jsx)("option",{value:"icon",selected:"icon"===v,children:"Icons"}),(0,l.jsx)("option",{value:"api",selected:"api"===v,children:"Figma API"})]}),"api"===v&&(0,l.jsx)(x,{children:(0,l.jsxs)(m,{variant:"primary",onClick:function(){return f.setParserOptions({parserType:"api",parserAction:"data"})},children:[(0,l.jsx)(E,{name:"api"}),"Get API"]})}),"icon"===v&&(0,l.jsxs)(x,{children:[(0,l.jsxs)(m,{variant:"primary",onClick:function(){return f.setParserOptions({parserType:"icon",parserAction:"data"})},children:[(0,l.jsx)(E,{name:"icons"}),"Forge icons"]}),(0,l.jsxs)(m,{variant:"primary",onClick:function(){return f.setParserOptions({parserType:"icon",parserAction:"metadata"})},children:[(0,l.jsx)(E,{name:"api"}),"View icon metadata"]})]}),"theme"===v&&(0,l.jsxs)(x,{children:[(0,l.jsxs)(m,{variant:"primary",onClick:function(){return f.setParserOptions({parserType:"theme",parserAction:"data"})},children:[(0,l.jsx)(E,{name:"theme"}),"Forge theme"]}),(0,l.jsxs)(m,{variant:"primary",onClick:function(){return f.setParserOptions({parserType:"theme",parserAction:"schema"})},children:[(0,l.jsx)(E,{name:"api"}),"Forge schema"]}),(0,l.jsxs)(m,{variant:"primary",onClick:function(){return f.setParserOptions({parserType:"theme",parserAction:"metadata"})},children:[(0,l.jsx)(E,{name:"api"}),"View metadata"]})]})]})]}),"file"===s&&function(){return S?(0,l.jsx)(Y,{children:(0,l.jsx)(R,{})}):(0,l.jsxs)(X,{isLoading:S,children:[(0,l.jsx)(ae,{children:(0,l.jsx)(m,{variant:"secondary",onClick:function(){return c("default")},disabled:S,children:"Back"})}),(0,l.jsxs)(ae,{children:[(0,l.jsx)("h2",{children:"Current file"}),(0,l.jsx)("div",{children:null===F||void 0===F?void 0:F.name})]}),(0,l.jsxs)(ae,{children:[(0,l.jsx)("h2",{children:"Add a new Figma file"}),(0,l.jsx)(_,{controlType:"textarea",id:"file",label:"Share Url",value:j,onChange:function(e){return b(e.target.value)},disabled:S}),k&&(0,l.jsx)(A,{message:k}),(0,l.jsx)(m,{as:"a",target:"_blank",rel:"noopener noreferrer",href:"https://help.figma.com/hc/en-us/articles/360040531773-Share-files-and-prototypes",variant:"tertiary",children:"How do I find the share URL for my Figma file?"}),(0,l.jsx)(m,{onClick:O,variant:"primary",disabled:S,children:S?"Loading...":"Add new file"})]}),(0,l.jsxs)(ae,{children:[(0,l.jsx)("h2",{children:"Recently viewed Figma files"}),null===(e=p.recentFiles)||void 0===e?void 0:e.map((function(e){return(0,l.jsx)(m,{variant:"secondary",onClick:function(){return V(e.fileKey)},disabled:S,children:e.name},e.fileKey)}))]})]});var e}(),"branch"===s&&T("selectedBranch"),"diffBranch"===s&&T("diffBranch")]})},ee=function(){return(0,l.jsxs)("svg",{viewBox:"0 0 357 133",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M182.516 41.8568C182.516 38.1381 180.839 35.2214 177.484 33.1068C176.901 32.7787 175.078 31.8855 172.016 30.4272C169.354 29.1511 167.695 27.8204 167.039 26.435C166.711 25.7423 166.547 24.9949 166.547 24.1928C166.547 21.6772 167.622 19.9089 169.773 18.8881C170.685 18.4506 171.651 18.2318 172.672 18.2318C175.151 18.2318 177.102 19.2344 178.523 21.2397C178.669 21.4949 178.815 21.7501 178.961 22.0053L182.461 20.1459C181.294 17.1563 178.997 15.2969 175.57 14.5678C174.695 14.3855 173.802 14.2943 172.891 14.2943C169.5 14.2943 166.729 15.3881 164.578 17.5756C162.792 19.435 161.898 21.6954 161.898 24.3568C161.898 28.0756 163.539 30.9558 166.82 32.9975C167.367 33.3256 169.154 34.2188 172.18 35.6772C174.878 36.9532 176.573 38.3204 177.266 39.7787C177.63 40.5443 177.812 41.3647 177.812 42.2397C177.812 44.9376 176.701 46.7787 174.477 47.7631C173.602 48.1641 172.635 48.3647 171.578 48.3647C168.698 48.3282 165.872 47.3985 163.102 45.5756L161.188 48.9662C164.396 51.2631 167.805 52.4115 171.414 52.4115C175.352 52.4115 178.359 51.099 180.438 48.474C181.823 46.6511 182.516 44.4454 182.516 41.8568Z",fill:"#6E46AE"}),(0,l.jsx)("path",{d:"M200.792 14.8412V18.7787H209.378V51.81H213.972V18.7787H222.667V14.8412H200.792Z",fill:"#6E46AE"}),(0,l.jsx)("path",{d:"M255.709 51.81V37.9193L267.084 14.8959H262.163L256.475 27.0912C255.928 28.2214 254.944 30.5001 253.522 33.9272C252.72 31.7397 251.772 29.4428 250.678 27.0365L245.045 14.8959H240.069L251.116 37.8647V51.81H255.709Z",fill:"#6E46AE"}),(0,l.jsx)("path",{d:"M305.486 51.81V47.9272H292.361V14.8959H287.767V51.81H305.486Z",fill:"#6E46AE"}),(0,l.jsx)("path",{d:"M345.583 47.9272H331.473V34.5834H343.505V30.7006H331.473V18.7787H345.091V14.8959H326.825V51.81H345.583V47.9272Z",fill:"#6E46AE"}),(0,l.jsx)("path",{d:"M180.312 74.8959H161.992V111.81H166.641V94.5834H178.727V90.7006H166.641V78.7787H180.312V74.8959Z",fill:"#00B6B4"}),(0,l.jsx)("path",{d:"M225.281 93.435C225.281 86.0704 223.422 80.7292 219.703 77.4115C217.333 75.3334 214.398 74.2943 210.898 74.2943C205.758 74.2943 201.856 76.5912 199.195 81.185C197.263 84.5391 196.297 88.6225 196.297 93.435C196.297 100.945 198.247 106.305 202.148 109.513C204.481 111.445 207.362 112.412 210.789 112.412C216.112 112.412 220.067 110.024 222.656 105.247C224.406 102.003 225.281 98.0652 225.281 93.435ZM201.218 93.435C201.218 87.6381 202.549 83.4089 205.211 80.7475C206.815 79.1798 208.711 78.3959 210.898 78.3959C214.872 78.3959 217.625 80.7292 219.156 85.3959C219.922 87.6928 220.304 90.3725 220.304 93.435C220.304 99.4141 218.919 103.68 216.148 106.232C214.653 107.617 212.867 108.31 210.789 108.31C206.669 108.31 203.843 105.958 202.312 101.255C201.583 98.9949 201.218 96.3881 201.218 93.435Z",fill:"#00B6B4"}),(0,l.jsx)("path",{d:"M248.32 111.81V96.4428H252.859C253.369 96.4428 253.752 96.4246 254.007 96.3881L260.132 108.966C261.408 111.117 262.994 112.247 264.89 112.357C265.692 112.357 266.385 112.284 266.968 112.138L266.749 108.747H266.257C265.309 108.675 264.598 108.164 264.124 107.216L258.328 95.6225C262.119 94.3464 264.453 91.8126 265.328 88.0209C265.546 87.073 265.656 86.0704 265.656 85.0131C265.583 78.1954 261.299 74.7683 252.804 74.7318C249.523 74.7318 246.497 74.7865 243.726 74.8959V111.81H248.32ZM252.695 78.6147C256.997 78.6147 259.585 79.9454 260.46 82.6068C260.716 83.4454 260.843 84.4298 260.843 85.56C260.843 89.3152 259.038 91.5756 255.429 92.3412C254.663 92.4871 253.807 92.56 252.859 92.56H248.32V78.724C250.143 78.6511 251.601 78.6147 252.695 78.6147Z",fill:"#00B6B4"}),(0,l.jsx)("path",{d:"M308.108 109.349V93.599H295.804V97.5365H303.515V106.779C301.036 107.836 298.848 108.365 296.952 108.365C292.541 108.365 289.478 106.177 287.765 101.802C286.853 99.4688 286.397 96.6798 286.397 93.435C286.397 87.0183 287.965 82.5704 291.101 80.0912C292.595 78.9246 294.291 78.3412 296.187 78.3412C299.614 78.4141 302.129 80.3647 303.733 84.1928L308.108 82.935C306.577 78.5235 303.77 75.7891 299.687 74.7318C298.593 74.4402 297.463 74.2943 296.296 74.2943C291.556 74.2943 287.819 76.2266 285.085 80.0912C282.679 83.5183 281.476 87.9662 281.476 93.435C281.476 101.237 283.663 106.724 288.038 109.896C290.371 111.573 293.161 112.412 296.405 112.412C300.197 112.375 304.098 111.354 308.108 109.349Z",fill:"#00B6B4"}),(0,l.jsx)("path",{d:"M345.858 107.927H331.749V94.5834H343.78V90.7006H331.749V78.7787H345.366V74.8959H327.1V111.81H345.858V107.927Z",fill:"#00B6B4"}),(0,l.jsx)("path",{d:"M15.9384 45.0019L34.9677 59.8691V42.462L46.3204 65.3238H55.2927L26.6007 7.31175V42.6206L0 21.8453L13.4565 65.3238H22.225L15.9384 45.0019Z",fill:"#00B6B4"}),(0,l.jsx)("path",{d:"M106.563 59.4664L110.987 63.7062L118.612 57.8124L116.781 65.3235H122.506L127.808 43.5693L111.369 56.2755L104.685 49.8729L97.8953 65.3238H103.988L106.563 59.4664Z",fill:"#00B6B4"}),(0,l.jsx)("path",{d:"M79.0297 31.1237L83.9713 40.8717L151.326 10.0385C152.078 9.69412 152.65 9.06977 152.917 8.30503C153.185 7.53944 153.126 6.6957 152.753 5.957L150.632 1.76433C150.257 1.03015 149.602 0.462408 148.809 0.185065C148.016 -0.0922706 147.15 -0.0567261 146.4 0.283803L79.0297 31.1237Z",fill:"#6E46AE"}),(0,l.jsx)("path",{d:"M69.3878 27.2659C68.0059 28.3897 66.4926 29.3435 64.8827 30.1067C63.3191 30.865 61.6719 31.4385 59.9758 31.8152C60.0872 34.0896 59.7663 36.3645 59.0312 38.5194L66.0671 53.1423C67.1839 53.0408 68.3031 53.3106 69.2502 53.9109C70.198 54.5114 70.9198 55.4079 71.3049 56.4615L81.4224 51.588C80.4988 50.1664 80.1142 48.4606 80.3361 46.7799C80.6835 44.8328 82.0611 43.2039 84.4378 41.8916L78.5297 29.4945C76.3486 30.1856 72.2917 29.4666 69.3878 27.2659Z",fill:"#3D2462"}),(0,l.jsx)("path",{d:"M71.8493 65.0531L87.859 57.3174L84.8259 51.0528L68.8007 58.7725L71.8493 65.0531Z",fill:"#6E46AE"}),(0,l.jsx)("path",{d:"M70.9691 22.2915C69.991 20.0978 68.1667 18.3942 65.9116 17.5671C63.6573 16.7402 61.1632 16.861 58.9992 17.9029C56.8354 18.9441 55.1846 20.817 54.4237 23.095C53.6629 25.3732 53.8561 27.8624 54.9601 29.995C55.9147 31.9768 60.5465 31.055 64.4298 29.1928C68.3123 27.3305 71.9275 24.2649 70.9691 22.2915Z",fill:"#6E46AE"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.3428 101.832C38.9452 101.921 42.1508 101.996 42.6677 101.996H43.4072C48.6277 102.745 51.2057 105.763 51.2057 110.293C51.2057 112.293 50.3672 114.124 48.9854 115.549H111.735C106.549 112.483 103.127 107.325 103.127 101.471C103.127 92.0764 111.911 84.437 122.718 84.437C124.477 84.437 125.908 83.1641 125.908 81.5805L125.907 73.1817C125.908 72.2793 125.091 71.5491 124.085 71.5491L124.086 71.5499H25.9701L35.3428 101.832ZM23.8765 71.5499H14.9071C14.9071 72.1444 18.6167 83.9066 21.3561 92.5926C22.7328 96.9577 23.8645 100.546 24.1571 101.549C24.1571 101.549 28.6602 101.666 33.233 101.78L23.8765 71.5499Z",fill:"#6E46AE"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 129.81C3 128.153 4.34315 126.81 6 126.81H354C355.657 126.81 357 128.153 357 129.81C357 131.467 355.657 132.81 354 132.81H6C4.34315 132.81 3 131.467 3 129.81Z",fill:"#00B6B4"})]})},ne=h.ZP.div.withConfig({displayName:"ForgePanel__StyledPanel",componentId:"sc-16iso72-0"})(["display:grid;grid-template-rows:min-content 1fr min-content;grid-column:",";position:relative;overflow-x:hidden;overflow-y:hidden;animation:var(--animation-drift-in--long);"],(function(e){return e.hasUserProvidedFileData?"1 / 2":"1 / -1"})),te=h.ZP.div.withConfig({displayName:"ForgePanel__PanelBranding",componentId:"sc-16iso72-1"})(["padding:1rem;max-width:220px;"]),re=h.ZP.div.withConfig({displayName:"ForgePanel__PanelFooter",componentId:"sc-16iso72-2"})([""]),ie=h.ZP.div.withConfig({displayName:"ForgePanel__FooterLinks",componentId:"sc-16iso72-3"})(["display:flex;gap:1rem;padding-bottom:1rem;"]),ae=h.ZP.div.withConfig({displayName:"ForgePanel__Section",componentId:"sc-16iso72-4"})(["padding:1rem;border-bottom:1px solid #6e46ae23;display:grid;gap:0.5rem;label,h2,textarea,p{font-size:0.875rem;}button{text-align:left;}"]),oe=function(){var e=(0,o.useContext)(u),n=e[0],t=e[1],r=(0,o.useState)("default"),i=r[0],a=r[1];return(0,l.jsxs)(ne,{hasUserProvidedFileData:Boolean(n.figmaApiToken&&n.fileSelected),children:[(0,l.jsx)(te,{children:(0,l.jsx)(ee,{})}),!n.figmaApiToken&&(0,l.jsx)(O,{}),n.figmaApiToken&&!n.fileSelected&&(0,l.jsx)(U,{}),n.figmaApiToken&&n.fileSelected&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)($,{panelView:i,setPanelView:a}),(0,l.jsxs)(re,{children:[(0,l.jsx)(ae,{children:(0,l.jsx)(m,{variant:"tertiary",onClick:function(){t.clear()},children:"Reset my Figma personal access token"})}),(0,l.jsxs)(ae,{children:[(0,l.jsx)(m,{variant:"tertiary",as:"a",href:"https://github.com/monster-worldwide/style-forge/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:"\xa9 2023 Monster Worldwide, Inc."}),(0,l.jsxs)(ie,{children:[(0,l.jsx)(m,{variant:"tertiary",as:"a",href:"https://github.com/monster-worldwide/style-forge",target:"_blank",rel:"noopener noreferrer",title:"View Style Forge on GitHub","aria-label":"View Style Forge on GitHub",children:(0,l.jsx)(E,{name:"gitHub",styles:{margin:".25em"}})}),(0,l.jsx)(m,{variant:"tertiary",as:"a",href:"https://github.com/monster-worldwide/style-forge/tree/main/packages/web-interface",target:"_blank",rel:"noopener noreferrer","aria-label":"View Style Forge on GitHub",title:"Need help?",children:(0,l.jsx)(E,{name:"help",styles:{margin:".25em"}})})]})]})]})]})]})},se=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new V.Api({personalAccessToken:n}),e.next=4,r.getFile(t,{branch_data:!0});case 4:return i=e.sent,e.abrupt("return",i);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}(),le=t(5929),ce=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.f.getThemeData(n,t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),de=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.f.getIconData(n,t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.f.getMetaData(n,t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),ue=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.f.getThemeData(n,t);case 3:return r=e.sent,i=le.f.getThemeSchema(r),e.abrupt("return",i);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}(),fe=h.ZP.div.withConfig({displayName:"DataView__DataViewWindow",componentId:"sc-1afg758-0"})(["box-shadow:0 2px 8px 0px rgba(0,0,0,0.2);background-color:rgb(45,45,45);border-radius:8px;overflow:hidden;height:100%;animation:var(--animation-drift-in--long);"]),he=h.ZP.div.withConfig({displayName:"DataView__BranchHeader",componentId:"sc-1afg758-1"})(["display:grid;grid-template-columns:1fr auto;gap:1rem;justify-content:space-between;align-items:center;padding:1rem 2rem 1rem 1rem;min-height:80px;position:sticky;top:0;background:rgba(45,45,45,0.8);color:white;z-index:1;box-shadow:0 -10px 10px 10px rgba(0,0,0,0.51);backdrop-filter:blur(2px);"]),me=h.ZP.div.withConfig({displayName:"DataView__DataAction",componentId:"sc-1afg758-2"})(["flex:0 0 auto;"]),ge=h.ZP.div.withConfig({displayName:"DataView__BranchInfo",componentId:"sc-1afg758-3"})(["flex:1 1 auto;display:flex;align-items:center;gap:1rem;"]),xe=h.ZP.div.withConfig({displayName:"DataView__BranchType",componentId:"sc-1afg758-4"})(["font-size:0.875rem;font-weight:700;font-size:1rem;opacity:0.7;"]),ve=h.ZP.div.withConfig({displayName:"DataView__BranchName",componentId:"sc-1afg758-5"})(["font-weight:400;font-size:1.125rem;"]),Ce=h.ZP.div.withConfig({displayName:"DataView__ProcessedOutput",componentId:"sc-1afg758-6"})(["padding:2rem;height:calc(100% - 5rem);animation:var(--animation-drift-in--long);overflow:auto;--scroll-track-color:rgb(45,45,45);--scroll-thumb-color:rgba(255,255,255,0.1);&:hover{--scroll-thumb-color:rgba(255,255,255,0.5);}box-sizing:border-box;overflow-x:auto;scrollbar-color:var(--scroll-thumb-color) var(--scroll-track-color);&::-webkit-scrollbar{height:16px;}&::-webkit-scrollbar-track{background-color:var(--scroll-track-color);}&::-webkit-scrollbar-thumb{background-color:var(--scroll-thumb-color);border:5px solid var(--scroll-track-color);border-radius:100px;}"]),ye=h.ZP.div.withConfig({displayName:"DataView__NoDataView",componentId:"sc-1afg758-7"})(["height:calc(100% - 7rem);display:grid;place-items:center;background:rgba(0,0,0,0.2);margin:1rem;border:2px dashed rgba(255,255,255,0.051);border-radius:4px;animation:var(--animation-drift-in--long);p{color:white;font-family:monospace;}"]),je=function(e){var n,r,i,a,s,c,d,p,f=e.fileType,h=e.environmentSettings,g=(0,o.useContext)(u),x=g[0],v=g[1],C=(0,o.useState)(void 0),y=C[0],j=C[1],b=(0,o.useState)(null),w=b[0],k=b[1],L=function(e){e?j(e):k("Error loading data. Please try again."),v.setParserFinished()};(0,o.useEffect)((function(){if(x.figmaApiToken&&x.fileSelected&&x.runParser&&!x.isParserRunning){var e,n,t,r;v.setParserRunning(!0),j(void 0),k(null);var i="branch"===f?null===x||void 0===x||null===(e=x.fileSelected)||void 0===e||null===(n=e.selectedBranch)||void 0===n?void 0:n.key:null===x||void 0===x||null===(t=x.fileSelected)||void 0===t||null===(r=t.diffBranch)||void 0===r?void 0:r.key;"api"===x.parserOptions.parserType&&"data"===x.parserOptions.parserAction&&se(x.figmaApiToken,String(i)).then(L),"theme"===x.parserOptions.parserType&&("data"===x.parserOptions.parserAction&&ce(x.figmaApiToken,String(i)).then(L),"metadata"===x.parserOptions.parserAction&&pe(x.figmaApiToken,String(i)).then(L),"schema"===x.parserOptions.parserAction&&ue(x.figmaApiToken,String(i)).then(L)),"icon"===x.parserOptions.parserType&&("data"===x.parserOptions.parserAction&&de(x.figmaApiToken,String(i)).then(L),"metadata"===x.parserOptions.parserAction&&pe(x.figmaApiToken,String(i)).then(L))}}),[x,f]),(0,o.useEffect)((function(){j(void 0)}),[null===(n=x.fileSelected)||void 0===n||null===(r=n.selectedBranch)||void 0===r?void 0:r.name,null===(i=x.fileSelected)||void 0===i||null===(a=i.diffBranch)||void 0===a?void 0:a.name]);var P=function(){var e,n,t,r,i="branch"===f?null===x||void 0===x||null===(e=x.fileSelected)||void 0===e||null===(n=e.selectedBranch)||void 0===n?void 0:n.key:null===x||void 0===x||null===(t=x.fileSelected)||void 0===t||null===(r=t.diffBranch)||void 0===r?void 0:r.key;return"theme"===x.parserOptions.parserType?"/api/download-theme-result?token=".concat(x.figmaApiToken,"&key=").concat(i):"icon"===x.parserOptions.parserType?"/api/download-icon-result?token=".concat(x.figmaApiToken,"&key=").concat(i):void 0},S="branch"===f?null===x||void 0===x||null===(s=x.fileSelected)||void 0===s||null===(c=s.selectedBranch)||void 0===c?void 0:c.name:null===x||void 0===x||null===(d=x.fileSelected)||void 0===d||null===(p=d.diffBranch)||void 0===p?void 0:p.name;return(0,l.jsxs)(fe,{children:[(0,l.jsxs)(he,{children:[(0,l.jsxs)(ge,{children:[(0,l.jsx)(E,{name:"branch"}),(0,l.jsxs)("h2",{children:[(0,l.jsxs)(xe,{children:["branch"===f?"Baseline":"Comparison"," branch"," "]}),(0,l.jsx)(ve,{children:S})]})]}),h.showDownload&&P()&&y&&(0,l.jsx)(me,{children:(0,l.jsxs)(m,{variant:"primary",as:"a",href:P(),children:[(0,l.jsx)(E,{name:"download"}),"Download Package"]})})]}),function(){if(w)return(0,l.jsx)("p",{children:w});if(y){var e="".concat(x.parserOptions.parserType,"-").concat(x.parserOptions.parserAction),n=t(8047).default;return(0,l.jsx)(Ce,{className:"processed-output",children:(0,l.jsx)(n,{src:y,collapsed:2,name:e,theme:"eighties",displayDataTypes:!1,displayObjectSize:!1})})}return(0,l.jsx)(ye,{children:x.isParserRunning?(0,l.jsx)(R,{firstMessage:"Fetching branch data",secondMessage:"Parsing styles",thirdMessage:"Wow, you have a lot of styles",timing:[0,1,5]}):(0,l.jsx)("p",{children:"Ready to forge!"})})}()]})},be=h.ZP.div.withConfig({displayName:"ForgeViewer__ViewerPanel",componentId:"sc-dgvjmh-0"})(["overflow:hidden;line-height:1.3;height:100%;overflow:hidden;gap:1rem;padding:1rem;display:grid;grid-auto-flow:column;grid-template-columns:",";"],(function(e){return e.isDiffed?"1fr 1fr":"1fr"})),we=function(e){var n,t,r=e.environmentSettings,i=(0,o.useContext)(u)[0];return i.figmaApiToken&&i.fileSelected?(0,l.jsxs)(be,{isDiffed:Boolean(null===(n=i.fileSelected)||void 0===n?void 0:n.diffBranch),children:[(0,l.jsx)(je,{fileType:"branch",environmentSettings:r}),(null===(t=i.fileSelected)||void 0===t?void 0:t.diffBranch)&&(0,l.jsx)(je,{fileType:"diff",environmentSettings:r})]}):null},ke=(t(3803),t(7729)),Le=t.n(ke),Pe=(0,h.vJ)([":root{--animation-drift-in--long:fade-in--long 500ms cubic-bezier(0.34,1.56,0.64,1);--animation-drift-in--short:fade-in--short 250ms cubic-bezier(0.25,1,0.5,1);}body{background:#5a2f9f19;font-family:system-ui,sans-serif;font-size:1rem;color:#212121;}*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;}*:focus{outline:2px solid #6E46AE;outline-offset:3px;}h1,h2,h3,h4,h5,h6{font-weight:700;letter-spacing:-0.025em;font-size:1.5rem;}p,label{font-size:1.125rem;}a{color:#6E46AE;text-decoration:none;font-weight:600;border-radius:1px;font-size:0.875rem;}@keyframes fade-in--long{from{transform:translateY(100px);}to{transform:translateY(0px);}}@keyframes fade-in--short{from{transform:translateY(10px);}to{transform:translateY(0px);}}"]),Se=h.ZP.main.withConfig({displayName:"layout__Main",componentId:"sc-qr5tia-0"})(["height:100vh;overflow:hidden;display:grid;grid-template-columns:1fr;@media (min-width:768px){grid-template-columns:300px 1fr;}"]),_e=function(e){var n=e.environmentSettings,t="Style Forge",r="Style Forge is a Figma-based tool that truly makes Figma the source of truth for a design system. Convert Figma files into JSON objects, ready to integrate with style systems such as styled-components or Emotion.";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(Le(),{children:[(0,l.jsx)("meta",{"http-equiv":"Content-Type",content:"text/html; charset=utf-8"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("title",{children:t}),(0,l.jsx)("meta",{name:"title",content:t}),(0,l.jsx)("meta",{name:"apple-mobile-web-app-title",content:t}),(0,l.jsx)("meta",{name:"application-name",content:t}),(0,l.jsx)("meta",{name:"description",content:r}),(0,l.jsx)("meta",{name:"theme-color",content:"#3d2462"}),(0,l.jsx)("meta",{name:"msapplication-TileColor",content:"#603cba"}),(0,l.jsx)("link",{rel:"icon",href:"favicon/favicon.ico",sizes:"any"}),(0,l.jsx)("link",{rel:"icon",href:"favicon/favicon.svg",type:"image/svg+xml"}),(0,l.jsx)("link",{rel:"apple-touch-icon",href:"favicon/apple-touch-icon.png"}),(0,l.jsx)("link",{rel:"manifest",href:"/site.webmanifest"}),(0,l.jsx)("meta",{property:"og:type",content:"website"}),(0,l.jsx)("meta",{property:"og:url",content:"https://github.com/monster-worldwide/style-forge"}),(0,l.jsx)("meta",{property:"og:title",content:t}),(0,l.jsx)("meta",{property:"og:site_name",content:t}),(0,l.jsx)("meta",{property:"og:description",content:r}),(0,l.jsx)("meta",{property:"og:image",content:"images/og-social.jpg"}),(0,l.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,l.jsx)("meta",{name:"twitter:image:alt",content:"Style Forge logo"})]}),(0,l.jsx)(Pe,{}),(0,l.jsx)(f,{children:(0,l.jsxs)(Se,{children:[(0,l.jsx)("h1",{style:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},children:"Style Forge"}),(0,l.jsx)(oe,{}),(0,l.jsx)(we,{environmentSettings:n})]})})]})},Ze=t(4406),Fe=function(e){var n=e.showDownload;return(0,l.jsx)(_e,{environmentSettings:{showDownload:n}})};Fe.getInitialProps=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{showDownload:"server"===Ze.env.BUILD});case 1:case"end":return e.stop()}}),e)})));var Be=Fe},7314:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(858)}])}},function(e){e.O(0,[679,228,774,888,179],(function(){return n=7314,e(e.s=n);var n}));var n=e.O();_N_E=n}]);